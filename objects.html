<!doctype html>
<html>
<head>
    <title>OOP</title>
    <link rel="stylesheet" href="./css/bootstrap.min.css" />
    <link rel="stylesheet" href="./css/dark.css" />

    <script>
        let baseSal = 30000;
        let overTime = 10;
        let rate = 20;

        function getWage(baseSal, overTime, rate) {
            return baseSal + (overTime * rate);
        }
    </script>

</head>

<body class="dark-theme">
    
        <div class="container-fluid">
            <div class="row">
                <div class="col-md-12">
                        <h1>Objects</h1>
                        <h2>1. Introduction</h2>
                        <p>JavaScript is all about objects, so in order to learn object-oriented programming, first you need to have
                            a good understanding of objects. So in this section, I'm going to cover some fundamental concepts are objects, such as 
                            <strong> creating objects, factories and constructors, primitives and reference types, and how they behave differently, working with the properties of an object such as
                                adding, removing properties, as well as enumerating them. We're also going to learn how to define private properties as well as getters
                                and setters.
                            </strong>
                        </p>
                        <hr>
                        <h2>2. Object Literals</h2>
                        <ul>
                                <li>Using object literal syntax. So these curly braces {}, we refer to them as object literal syntax.</li>
                                <li>An object in JavaScript is essentially a collection of key value pairs. So inside these curly braces I'm going to add a few key value pairs</li>
                                <li>
                                    Example:
                                    <br>
        <pre>
            <code>
                const circle = {
                    radius: 1,
                    location: {
                        x: 1,
                        y: 1
                    },
                    draw: function() {
                        console.log('draw');
                    }
                };
                circle.draw();
                // outputs: draw
            </code>
        </pre>
                                </li>
                                <!-- <script>
                                    //object literal syntax - {}
                                    const circle = {
                                        radius: 1,
                                        location: {
                                            x: 1,
                                            y: 1
                                        },
                                        draw: function() {
                                            console.log('draw');
                                        }
                                    };
                                    circle.draw();
                                </script> -->
                        </ul>
                        <h2>3. Factories</h2>
                        <ul>
                            <li>Now let's imagine here we didn't have this draw method. Duplicating this object wouldn't be a big deal, so basically we would end up with two objects, and then here we could use
                                different values. So creating objects with the object literal syntax is an issue only if that object has a behavior. So what's the solution? The solution is to use a factory or a constructor function.
                            </li>
                            <li>
                                <strong>Example:</strong>
                                <p>So let me show you how that works. I'm going to delete, this second circle, and define a function called createCircle.
                                    Now, I'm going to move all this code inside this new function like this. Now we don't need to declare a constant, we can simple return this object.
                                    Now this circle requires a radius so instead of hard coding one here, I'm going to add a parameter, radius, and then set that here.
                                    Now in ES6 we have this new feature, so if the key and the value are the same we can remove the noise in the code by removing the value, so we can only add radius. Now, to
                                    simplify the code so you can focus on what I'm going to teach you, I'm going to drop this location property, you don't really need it.
                                    Instead I'm going to add our draw method. So key value, and let's do a simple console.log draw, okay?
                                    So this is what we call a factory function. Now, you can simply call this function to create a new circle so constant, circle, we call createCircle and pass 1 as the radius.
                                </p>
                            </li>
<pre>
    <code>
        // Factory function
        function createCircle(radius){
            return {
                radius,
                draw: function() {
                    console.log('draw with radius '+ radius);
                }
            }
        }
        const circle = createCircle(1);
        circle.draw();
        //outouts: draw with radius 1
        const circle2 = createCircle(2);
        circle2.draw();
        //outouts: draw with radius 2
    </code>
</pre>
                               

                            </script>
                        </ul>

                        <h2>4. Constructors</h2>
                        <ul>
                            <li>Now there is another way to create an object using a constructor function.</li>
                            <li>
                                <strong>Example: </strong><br>
<pre>
    <code>
        function Circle(radius) {
            console.log('this', this)
            this.radius = radius;
            this.draw = function() {
                console.log('draw with radius: ' + radius);
            };
        }
        const another = new Circle(1);
        another.draw();
        /*
            outputs in console:
            - this Circle {}
            - draw with radius: 1
        */
    </code>
</pre>    
                            </li>
                            <li>So, our circle function is, going to take a radius parameter, but in the body instead of returning an object we're going to use
                                the <strong>this</strong> keyword to set the properties of this object.
                                What is <strong>this</strong>. This is basically a reference to the object that is executing this piece of code. 
                                We're going to see that in a second. So, imagine we have a new empty object in memory now we're going to use this to reference that object and 
                                then use .notation to set various properties on that object. So we can set the radius property to this radius argument. Similarly,
                                we can define another property, draw, but this is more accurately a method, so we set it to a function, and here we go to a console.log of draw.
                                Okay? Now, we can create a new circle, like this. We use the new operator to call the Circle function and pass 1 as the argument.
                                When we use the new operator, a few things happen under the hood.
                                This new operator will create an empty object so like this. An empty object. Then, it will set this to point to that object.
                                Because by default, this points to the global object. If you're running this code inside of a browser, the global
                                object is the window object. If you're running it inside a node environment, the global object is global.
                            </li>
                            <li>So, when we use the new operator to call a function, 3 things happen. First, this new operator will create an empty object.
                                Then, it will set this to point to that object and finally, it will return that object from this function, so note that here we don't have
                                an explicit return statement, you're not retuning this. This will happen automatically when we use the new operator.
                            </li>
                            <li></li>
                        </ul>

                        <h2>4. Constructor Property</h2>
                        <p>Every object in JavaScript has a property called constructor, and that references the function that was used to construct
                            or create an object. So here we have two objects.</p>
                        <p>

                        </p>
                        <script>
                         function Circle(radius) {
                            console.log('this', this)
                            this.radius = radius;
                            this.draw = function() {
                                console.log('draw with radius: ' + radius);
                            };
                        }
                        const another = new Circle(1);
                        another.draw();
                        /*
                            outputs in console:
                            - this Circle {}
                            - draw with radius: 1
                        */
                        </script>
                        <ul>
                            <li></li>
                        </ul>

                    </div>
            </div>
        </div>
        
</body>

</html>
